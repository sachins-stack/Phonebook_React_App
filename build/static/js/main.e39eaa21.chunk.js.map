{"version":3,"sources":["components/Contacts.js","components/Filter.js","App.js","index.js"],"names":["Contacts","props","deleteContact","persons","map","p","i","name","number","onClick","id","Filter","console","log","filter","toLowerCase","includes","person","App","useState","setPersons","newName","setNewName","newPhone","setNewPhone","newFilterName","setNewFilterName","useEffect","axios","get","then","response","data","catch","error","onChange","event","preventDefault","target","value","onSubmit","newPerson","existPerson","find","url","changedPerson","window","confirm","put","post","concat","type","delete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wKAeeA,EAbE,SAACC,GAEd,IAAMC,EAAcD,EAAMC,cAE1B,OACI,8BACI,6BACPD,EAAME,QAAQC,KAAK,SAACC,EAAEC,GAAH,OAAS,+BAAaD,EAAEE,KAAf,IAAsBF,EAAEG,OAAxB,IAAgC,wBAAQC,QAAS,kBAAMP,EAAcG,EAAEK,KAAvC,sBAAvBJ,WCY3BK,EAnBA,SAACV,GAIZ,OAHAW,QAAQC,IAAIZ,EAAME,SAGA,KAAfF,EAAMM,KACE,+CAIP,8BACI,6BACPN,EAAME,QAAQW,QAAQ,SAAAT,GAAC,OAAIA,EAAEE,KAAKQ,cAAcC,SAASf,EAAMM,KAAKQ,kBACpEX,KAAI,SAAAa,GAAM,OAAI,mCAAMA,EAAOV,KAAb,e,gBCiGJW,EAzGH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACThB,EADS,KACAiB,EADA,OAEgBD,mBAAS,IAFzB,mBAERE,EAFQ,KAECC,EAFD,OAGkBH,mBAAS,IAH3B,mBAGRI,EAHQ,KAGEC,EAHF,OAI4BL,mBAAS,IAJrC,mBAIRM,EAJQ,KAIOC,EAJP,KAMhBC,qBAAU,WACRC,IAAMC,IAAI,iBACTC,MAAK,SAAAC,GAEJX,EAAWW,EAASC,SAErBC,OAAM,SAAAC,GAAK,OACVtB,QAAQC,IAAI,eAEd,IAkEF,OAFAD,QAAQC,IAAIY,GAGV,gCAEE,2CACA,iDACgB,uBAAOU,SAtBD,SAACC,GACzBA,EAAMC,iBACNX,EAAiBU,EAAME,OAAOC,UAqB1B,cAAC,EAAD,CAAQpC,QAASA,EAASI,KAAMkB,OAElC,kDACA,uBAAMe,SAzEO,SAACJ,GAChBA,EAAMC,iBACNzB,QAAQC,IAAIQ,EAASE,GACrB,IAAMkB,EAAY,CAChBlC,KAAMc,EACNb,OAAQe,GAMJmB,EAAcvC,EAAQwC,MAAK,SAAAtC,GAAC,OAAIA,EAAEE,OAASc,KAEjD,GAAGqB,EAAY,CACb,IAAMhC,EAAKgC,EAAYhC,GACjBkC,EAAG,wBAAoBlC,GACvBmC,EAAa,2BAAQH,GAAR,IAAsBlC,OAAQe,IACjDuB,OAAOC,QAAP,UAAkB1B,EAAlB,4EACAO,IAAMoB,IAAIJ,EAAIC,GACbf,MAAK,SAAAC,GACJX,EAAWjB,EAAQC,KAAI,SAAAa,GAAM,OAAIA,EAAOP,KAAOA,EAAKmC,EAAgB5B,cAItEW,IACCqB,KAAK,gBAAiBR,GACtBX,MAAK,SAAAC,GAIJX,EAAWjB,EAAQ+C,OAAOnB,EAASC,UAEpCC,MACCrB,QAAQC,IAAI,iBAwCd,UACE,yCACQ,uBAAOsB,SAnCD,SAACC,GACnBd,EAAWc,EAAME,OAAOC,UAkCuB,uBAD3C,UAES,uBAAOJ,SAhCD,SAACC,GACpBZ,EAAYY,EAAME,OAAOC,aAiCrB,8BACE,wBAAQY,KAAK,SAAb,sBAGJ,yCACA,cAAC,EAAD,CAAUhD,QAASA,EAASD,cA/BZ,SAACQ,GACnB,IAAMkC,EAAG,yCAAqClC,GAC1CoC,OAAOC,QAAP,iBAAyBrC,EAAzB,OACFkB,IAAMwB,OAAOR,GACZd,MAAK,WACJV,EAAWjB,EAAQW,QAAO,SAAAG,GAAM,OAAIA,EAAOP,KAAOA,gBC5E1D2C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.e39eaa21.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Contacts = (props) =>{\r\n    \r\n    const deleteContact=props.deleteContact\r\n    \r\n    return(\r\n        <div>\r\n            <ul>\r\n    {props.persons.map( (p,i) => <li key={i}>{p.name} {p.number} <button onClick={() => deleteContact(p.id)} >Delete</button></li>)}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Contacts;","import React from 'react';\r\n\r\nconst Filter = (props) =>{\r\n    console.log(props.persons)\r\n    \r\n\r\n    if(props.name === \"\" ){\r\n        return(<h3>Please Search</h3>)\r\n    }\r\n    else{\r\n    return(\r\n        <div>\r\n            <ul>\r\n    {props.persons.filter( p => p.name.toLowerCase().includes(props.name.toLowerCase()))\r\n    .map(person => <li> {person.name} </li> )}\r\n            </ul>\r\n        </div>\r\n    )\r\n    }\r\n}\r\n\r\nexport default Filter;","import React, { useState } from 'react'\nimport Contacts from './components/Contacts'\nimport Filter from './components/Filter'\nimport { useEffect } from \"react\";\nimport axios from 'axios'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newPhone, setNewPhone ] = useState('')\n  const [ newFilterName, setNewFilterName ] = useState('')\n\n  useEffect(() =>{\n    axios.get(\"/api/Contacts\")\n    .then(response =>{\n  \n      setPersons(response.data)\n    })\n    .catch(error => \n      console.log(\"Failed\"))\n  \n  },[])\n\n  const addPhone = (event)=>{\n    event.preventDefault();\n    console.log(newName, newPhone)\n    const newPerson = {\n      name: newName,\n      number: newPhone\n    }\n    // setPersons(persons.concat(newPerson))\n    // console.log(persons)\n    // setNewName('');\n    // setNewPhone('');\n    const existPerson = persons.find(p => p.name === newName)\n\n    if(existPerson){\n      const id = existPerson.id\n      const url = `/api/Contacts/${id}`;\n      const changedPerson = { ...existPerson,  number: newPhone }\n      window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`) &&\n      axios.put(url,changedPerson)\n      .then(response =>{\n        setPersons(persons.map(person => person.id === id ? changedPerson : person));\n      })\n    }\n    else{\n      axios\n      .post('/api/Contacts', newPerson)\n      .then(response => {\n        // setPersons(persons.concat(response.data))\n        // setNewName('')\n        // setNewPhone('')\n        setPersons(persons.concat(response.data))\n      })\n      .catch(\n        console.log(\"Post Failed\")\n      )\n    }\n  \n  }\n\n\n  const handleNewName=(event)=>{\n    setNewName(event.target.value)\n  }\n  \n  const handleNewPhone=(event)=>{\n    setNewPhone(event.target.value)\n  }\n  const handleNewFilterName=(event)=>{\n    event.preventDefault();\n    setNewFilterName(event.target.value)\n  }\n\n  const deleteContact=(id)=>{\n    const url = `http://localhost:3001/Contacts/${id}`;\n    if (window.confirm(`Delete ${id}?`)) {\n      axios.delete(url)\n      .then(()=>{\n        setPersons(persons.filter(person => person.id !== id));\n      })\n    }\n  }\n\n  console.log(newFilterName)\n\n  return (\n    <div>\n  \n      <h2>Phonebook</h2>\n      <div>\n        find contact: <input onChange={handleNewFilterName}/>\n        <Filter persons={persons} name={newFilterName} />\n      </div>\n      <h2>Add new Contact </h2>\n      <form onSubmit={addPhone}>\n        <div>\n          Name: <input onChange={handleNewName}  /><br/>\n          Phone: <input onChange={handleNewPhone} />\n        </div>\n        <div>\n          <button type=\"submit\" >add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <Contacts persons={persons} deleteContact={deleteContact}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}