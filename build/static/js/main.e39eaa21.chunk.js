(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(2),a=n.n(o),i=n(15),r=n.n(i),s=n(6),u=n(4),j=function(e){var t=e.deleteContact;return Object(c.jsx)("div",{children:Object(c.jsx)("ul",{children:e.persons.map((function(e,n){return Object(c.jsxs)("li",{children:[e.name," ",e.number," ",Object(c.jsx)("button",{onClick:function(){return t(e.id)},children:"Delete"})]},n)}))})})},l=function(e){return console.log(e.persons),""===e.name?Object(c.jsx)("h3",{children:"Please Search"}):Object(c.jsx)("div",{children:Object(c.jsx)("ul",{children:e.persons.filter((function(t){return t.name.toLowerCase().includes(e.name.toLowerCase())})).map((function(e){return Object(c.jsxs)("li",{children:[" ",e.name," "]})}))})})},d=n(3),b=n.n(d),h=function(){var e=Object(o.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)(""),r=Object(u.a)(i,2),d=r[0],h=r[1],O=Object(o.useState)(""),f=Object(u.a)(O,2),p=f[0],x=f[1],m=Object(o.useState)(""),v=Object(u.a)(m,2),g=v[0],C=v[1];Object(o.useEffect)((function(){b.a.get("/api/Contacts").then((function(e){a(e.data)})).catch((function(e){return console.log("Failed")}))}),[]);return console.log(g),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsxs)("div",{children:["find contact: ",Object(c.jsx)("input",{onChange:function(e){e.preventDefault(),C(e.target.value)}}),Object(c.jsx)(l,{persons:n,name:g})]}),Object(c.jsx)("h2",{children:"Add new Contact "}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(d,p);var t={name:d,number:p},c=n.find((function(e){return e.name===d}));if(c){var o=c.id,i="/api/Contacts/".concat(o),r=Object(s.a)(Object(s.a)({},c),{},{number:p});window.confirm("".concat(d," is already added to phonebook, replace the old number with a new one?"))&&b.a.put(i,r).then((function(e){a(n.map((function(e){return e.id===o?r:e})))}))}else b.a.post("/api/Contacts",t).then((function(e){a(n.concat(e.data))})).catch(console.log("Post Failed"))},children:[Object(c.jsxs)("div",{children:["Name: ",Object(c.jsx)("input",{onChange:function(e){h(e.target.value)}}),Object(c.jsx)("br",{}),"Phone: ",Object(c.jsx)("input",{onChange:function(e){x(e.target.value)}})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)(j,{persons:n,deleteContact:function(e){var t="http://localhost:3001/Contacts/".concat(e);window.confirm("Delete ".concat(e,"?"))&&b.a.delete(t).then((function(){a(n.filter((function(t){return t.id!==e})))}))}})]})};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(h,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.e39eaa21.chunk.js.map